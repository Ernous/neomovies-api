# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –º—É–ª—å—Ç–∏–ø–æ–∏—Å–∫–∞

## üîç –ü—Ä–æ–±–ª–µ–º–∞
–í –º—É–ª—å—Ç–∏–ø–æ–∏—Å–∫–µ API –ø–æ—è–≤–ª—è–ª–∏—Å—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- –§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã "–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è"
- –ó–∞–ø–∏—Å–∏ –ª—é–¥–µ–π (persons) —Å –ø—É—Å—Ç—ã–º–∏ `poster_path` –∏ `backdrop_path`
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
–ü—Ä–∏ –ø–æ–∏—Å–∫–µ "–•–∏–ª—å–¥–∞" –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏—Å—å –∑–∞–ø–∏—Å–∏ —Ç–∏–ø–∞:
```json
{
  "id": 51596,
  "media_type": "person",
  "name": "",
  "poster_path": "",
  "backdrop_path": ""
}
```

## üéØ –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
TMDB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–∫–ª—é—á–∞—è:
- `movie` - —Ñ–∏–ª—å–º—ã
- `tv` - —Å–µ—Ä–∏–∞–ª—ã  
- `person` - –ª—é–¥–∏ (–∞–∫—Ç–µ—Ä—ã, —Ä–µ–∂–∏—Å—Å–µ—Ä—ã –∏ —Ç.–¥.)

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª—é–¥–µ–π –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—É—Å—Ç—ã–µ –ø–æ–ª—è, –∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª–æ —ç—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

## üîß –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–∏–ª —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ –º–µ—Ç–æ–¥ `SearchMulti` –≤ —Ñ–∞–π–ª–µ `/workspace/pkg/services/tmdb.go`:

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```go
func (s *TMDBService) SearchMulti(query string, page int, language string) (*models.MultiSearchResponse, error) {
    // ... –∫–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ ...
    var response models.MultiSearchResponse
    err := s.makeRequest(endpoint, &response)
    return &response, err
}
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```go
func (s *TMDBService) SearchMulti(query string, page int, language string) (*models.MultiSearchResponse, error) {
    // ... –∫–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ ...
    var response models.MultiSearchResponse
    err := s.makeRequest(endpoint, &response)
    if err != nil {
        return nil, err
    }

    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —É–±–∏—Ä–∞–µ–º –∑–∞–ø–∏—Å–∏ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –ª—é–¥–µ–π –±–µ–∑ –ø–æ—Å—Ç–µ—Ä–æ–≤
    filteredResults := make([]models.MultiSearchResult, 0)
    for _, result := range response.Results {
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ª—é–¥–µ–π (persons)
        if result.MediaType == "person" {
            continue
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤
        hasTitle := false
        if result.MediaType == "movie" && result.Title != "" {
            hasTitle = true
        } else if result.MediaType == "tv" && result.Name != "" {
            hasTitle = true
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º
        if hasTitle {
            filteredResults = append(filteredResults, result)
        }
    }
    
    response.Results = filteredResults
    response.TotalResults = len(filteredResults)
    
    return &response, nil
}
```

## üìä –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
1. **–£–±–∏—Ä–∞–µ–º –≤—Å–µ—Ö –ª—é–¥–µ–π**: `if result.MediaType == "person"`
2. **–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è**:
   - –î–ª—è —Ñ–∏–ª—å–º–æ–≤: `result.Title != ""`
   - –î–ª—è —Å–µ—Ä–∏–∞–ª–æ–≤: `result.Name != ""`
3. **–û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏**: `response.TotalResults = len(filteredResults)`

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (6 –∑–∞–ø–∏—Å–µ–π):
1. ‚úÖ movie - "–¢–µ—Ç—è –•–∏–ª—å–¥–∞" 
2. ‚úÖ tv - "–•–∏–ª—å–¥–∞"
3. üö´ person - "–•–∏–ª—å–¥–∞ –ö–æ—Ä–æ–Ω–µ–ª—å" (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)
4. üö´ person - "" (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)
5. üö´ movie - "" (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)
6. üö´ tv - "" (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (2 –∑–∞–ø–∏—Å–∏):
1. movie - "–¢–µ—Ç—è –•–∏–ª—å–¥–∞" (ID: 255319)
2. tv - "–•–∏–ª—å–¥–∞" (ID: 82456)

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –£–±—Ä–∞–Ω—ã –≤—Å–µ –∑–∞–ø–∏—Å–∏ –ª—é–¥–µ–π (persons)
- ‚úÖ –£–±—Ä–∞–Ω—ã –≤—Å–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π  
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã
- ‚úÖ –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–µ –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
- ‚úÖ –õ—É—á—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API:
- –¢–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- –¢–µ –∂–µ –ø–æ–ª—è –≤ –æ–±—ä–µ–∫—Ç–∞—Ö
- –ü—Ä–æ—Å—Ç–æ –º–µ–Ω—å—à–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ** - –º—É–ª—å—Ç–∏–ø–æ–∏—Å–∫ —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É)
3. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—é–¥–µ–π –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è