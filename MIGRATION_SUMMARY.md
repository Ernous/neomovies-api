# –ú–∏–≥—Ä–∞—Ü–∏—è Neo Movies API —Å Node.js –Ω–∞ Go

## üéØ –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏: –ó–ê–í–ï–†–®–ï–ù–ê ‚úÖ

–í–∞—à API —É—Å–ø–µ—à–Ω–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å JavaScript (Node.js) –Ω–∞ Go —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏.

## üìä –ß—Ç–æ –±—ã–ª–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`POST /api/v1/auth/register`)
   - ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`POST /api/v1/auth/login`)
   - ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã
   - ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
   - ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`GET/PUT /api/v1/auth/profile`)

2. **TMDB API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - ‚úÖ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ (`GET /api/v1/movies/search`)
   - ‚úÖ –ü–æ–∏—Å–∫ —Å–µ—Ä–∏–∞–ª–æ–≤ (`GET /api/v1/tv/search`) 
   - ‚úÖ –ú—É–ª—å—Ç–∏–ø–æ–∏—Å–∫ (`GET /search/multi`)
   - ‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–ª—å–º—ã/—Å–µ—Ä–∏–∞–ª—ã
   - ‚úÖ –¢–æ–ø-—Ä–µ–π—Ç–∏–Ω–≥–æ–≤—ã–µ —Ñ–∏–ª—å–º—ã/—Å–µ—Ä–∏–∞–ª—ã
   - ‚úÖ –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Ñ–∏–ª—å–º—ã
   - ‚úÖ –§–∏–ª—å–º—ã –≤ –ø—Ä–æ–∫–∞—Ç–µ
   - ‚úÖ –°–µ—Ä–∏–∞–ª—ã –≤ —ç—Ñ–∏—Ä–µ
   - ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ø–æ—Ö–æ–∂–∏–µ
   - ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–∞—Ö/—Å–µ—Ä–∏–∞–ª–∞—Ö

3. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∂–∞–Ω—Ä—ã**
   - ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (`GET /api/v1/categories`)
   - ‚úÖ –§–∏–ª—å–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (`GET /api/v1/categories/{id}/movies`)

4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - ‚úÖ –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º—ã (`GET /api/v1/favorites`)
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ (`POST /api/v1/favorites/{id}`)
   - ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (`DELETE /api/v1/favorites/{id}`)

5. **–ü–ª–µ–µ—Ä—ã**
   - ‚úÖ Alloha Player (`GET /api/v1/players/alloha`)
   - ‚úÖ Lumex Player (`GET /api/v1/players/lumex`)

6. **–°–ª—É–∂–µ–±–Ω—ã–µ**
   - ‚úÖ Health Check (`GET /api/v1/health`)
   - ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (`GET /docs`)

## üöÄ –£–ª—É—á—à–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Node.js –≤–µ—Ä—Å–∏–µ–π

### üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–ó–∞–º–µ–Ω–∏–ª–∏ Swagger UI** –Ω–∞ **Scalar API Reference** - –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã** –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å Saturn —Ç–µ–º–æ–π

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Go backend** - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ Node.js
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã** –∫ TMDB API
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö
- **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JWT** —Ç–æ–∫–µ–Ω–∞–º–∏
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** CORS
- **–ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π** (NoSQL MongoDB)

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è Vercel:

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/neomovies
TMDB_ACCESS_TOKEN=your_tmdb_access_token_here
JWT_SECRET=your_super_secret_jwt_key_here

# –î–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
GMAIL_USER=your_gmail@gmail.com
GMAIL_APP_PASSWORD=your_app_specific_password

# –î–ª—è –ø–ª–µ–µ—Ä–æ–≤  
LUMEX_URL=your_lumex_player_url
ALLOHA_TOKEN=your_alloha_token

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ (Vercel)
PORT=3000
BASE_URL=https://api.neomovies.ru
NODE_ENV=production
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `vercel.json`:
```json
{
  "version": 2,
  "builds": [
    {
      "src": "main.go",
      "use": "@vercel/go"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/main.go"
    }
  ],
  "env": {
    "GO_VERSION": "1.21"
  },
  "functions": {
    "main.go": {
      "maxDuration": 10
    }
  }
}
```

## üìö API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
```
GET  /api/v1/health                    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
POST /api/v1/auth/register             - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/v1/auth/login                - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
GET  /search/multi                     - –ú—É–ª—å—Ç–∏–ø–æ–∏—Å–∫
GET  /api/v1/categories                - –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
GET  /api/v1/categories/{id}/movies    - –§–∏–ª—å–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET  /api/v1/movies/*                  - –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ñ–∏–ª—å–º–æ–≤
GET  /api/v1/tv/*                      - –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–µ—Ä–∏–∞–ª–æ–≤
GET  /api/v1/players/alloha            - Alloha –ø–ª–µ–µ—Ä
GET  /api/v1/players/lumex             - Lumex –ø–ª–µ–µ—Ä
```

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (—Ç—Ä–µ–±—É—é—Ç JWT)
```
GET  /api/v1/auth/profile              - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT  /api/v1/auth/profile              - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
GET  /api/v1/favorites                 - –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º—ã
POST /api/v1/favorites/{id}            - –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
DELETE /api/v1/favorites/{id}          - –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
```

## üé® –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

- **URL**: https://api.neomovies.ru/docs
- **OpenAPI Spec**: https://api.neomovies.ru/openapi.json
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: Scalar API Reference (–∑–∞–º–µ–Ω–∞ Swagger UI)
- **–§—É–Ω–∫—Ü–∏–∏**: 
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
  - –ö—Ä–∞—Å–∏–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üöÄ –î–µ–ø–ª–æ–π

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Vercel**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (—Å–º. —Å–ø–∏—Å–æ–∫ –≤—ã—à–µ)
3. **–î–µ–ø–ª–æ–π –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** Redis –¥–ª—è TMDB –∑–∞–ø—Ä–æ—Å–æ–≤
2. **Rate Limiting** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –ø–æ–º–æ—â—å—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤
4. **–ú–µ—Ç—Ä–∏–∫–∏** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. **–¢–µ—Å—Ç—ã** unit –∏ integration —Ç–µ—Å—Ç—ã
6. **CI/CD** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–æ—Ä—Ä–µ–Ω—Ç—ã –∏ —Ä–µ–∞–∫—Ü–∏–∏:
–ï—Å–ª–∏ –Ω—É–∂–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–∞–∫—Ü–∏–π - –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ.

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à API —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Go —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π!**